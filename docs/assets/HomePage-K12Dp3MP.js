import{_ as W,u as q,r as w,h as Y,g as P,t as z,o as t,c as l,a as e,i as E,n as $,b as g,j as F,k as se,d as L,l as N,v as O,m as i,f as U,s as K,p as M,e as A,q as te,x as le,y as J,F as r,z as f,A as n,B as Q,C as oe,D as ne,T as X,E as Z,K as ae}from"./index-7GVdonn2.js";const H=B=>(te("data-v-9d379220"),B=B(),le(),B),re={key:0,class:"sticky top-0 z-20 grid grid-cols-3 items-center border-b bg-blue-50 px-6 py-2 shadow-lg"},ie={class:"flex flex-row items-center justify-center gap-2"},ce=H(()=>e("span",{class:"material-icons text-3xl"}," space_dashboard ",-1)),de=[ce],ue=H(()=>e("span",{class:"material-icons text-3xl"}," history ",-1)),_e=[ue],pe=H(()=>e("span",{class:"material-icons text-3xl"}," timeline ",-1)),he=[pe],be={class:"flex flex-row items-center justify-end gap-4"},ve={class:"flex grow flex-col items-center"},xe={class:"flex flex-col gap-2 p-4"},fe={class:"flex flex-row items-center justify-between"},ge=H(()=>e("h2",null,"Settings",-1)),me={class:"flex flex-row items-center justify-between px-6"},we=H(()=>e("h3",null,"Enable Post Test",-1)),ye={class:"flex flex-row gap-2"},ke={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Ce={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},$e={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Ae={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Te={key:1},Ve=H(()=>e("hr",{class:"m-2 border-stone-400"},null,-1)),Se={key:1},je={__name:"TheNavbar",setup(B){const T=q(),d=w({settingsModal:!1,settingsToggle(){this.settingsModal=!this.settingsModal}});function C(){M.set(0),T.push({name:"admin dashboard"})}const k=w(!1);async function G(){k.value=!0,await P({method:"delete",url:"https://ncp-api-uzr5.onrender.com/api/v2/admin/logout",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(()=>{Object.keys(localStorage).forEach(function(v){/^ncpadmin_/.test(v)&&localStorage.removeItem(v)}),T.push({name:"admin login"}),M.set(0),z.add({msg:"Logged out successfully.",duration:4e3})}).catch(v=>{v.response.status==401?T.push({name:"admin login"}):z.add({msg:v.response.data,duration:4e3})}).finally(()=>k.value=!1)}const D=w(!1),m=w({A1:!1,B1:!1,C1:!1,D1:!1});Y(async()=>{await P({method:"get",url:"https://ncp-api-uzr5.onrender.com/api/v2/enable-post-test",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(v=>{m.value.A1=v.data.A1,m.value.B1=v.data.B1,m.value.C1=v.data.C1,m.value.D1=v.data.D1}).catch(v=>{v.response.status==401?T.push({name:"admin login"}):z.add({msg:v.response.data,duration:4e3})})});async function S(){D.value=!0,await P({method:"post",url:"https://ncp-api-uzr5.onrender.com/api/v2/enable-post-test",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},data:{A1:m.value.A1,B1:m.value.B1,C1:m.value.C1,D1:m.value.D1}}).then(()=>{z.add({msg:"Post test availablity updated",duration:4e3})}).catch(v=>{v.response.status==401?T.push({name:"admin login"}):z.add({msg:v.response.data,duration:4e3})}).finally(()=>D.value=!1)}return(v,h)=>{const u=A("VIconButton"),V=A("VLoader"),y=A("VButton"),p=A("VModal");return t(),l("div",{class:$([{"overflow-y-scroll":v.$route.name!=="admin login"},"flex h-[100svh] flex-col"]),ref_key:"scrollStore",ref:K},[v.$route.name!=="admin login"?(t(),l("div",re,[e("div",null,[e("button",{onClick:h[0]||(h[0]=c=>C()),class:"text-2xl"},"NCP admin")]),e("div",ie,[e("button",{onClick:h[1]||(h[1]=c=>E(M).set(0)),class:$([[E(M).index===0?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},de,2),e("button",{onClick:h[2]||(h[2]=c=>E(M).set(1)),class:$([[E(M).index===1?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},_e,2),e("button",{onClick:h[3]||(h[3]=c=>E(M).set(2)),class:$([[E(M).index===2?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},he,2)]),e("div",be,[g(u,{onClick:h[4]||(h[4]=c=>d.value.settingsToggle()),variant:"ghost",size:"lg",icon:"settings"})])])):F("",!0),e("div",ve,[se(v.$slots,"default",{},void 0,!0)]),g(p,{"go-open":d.value.settingsModal,"onUpdate:goOpen":h[12]||(h[12]=c=>d.value.settingsModal=c),"click-outside":!1},{default:L(()=>[e("div",xe,[e("div",fe,[ge,g(u,{onClick:h[5]||(h[5]=c=>d.value.settingsToggle()),variant:"ghost",size:"lg",icon:"close"})]),e("div",me,[e("div",null,[we,e("div",ye,[e("label",ke,[N(e("input",{"onUpdate:modelValue":h[6]||(h[6]=c=>m.value.A1=c),type:"checkbox",class:"cursor-pointer"},null,512),[[O,m.value.A1]]),i(" 1A ")]),e("label",Ce,[N(e("input",{"onUpdate:modelValue":h[7]||(h[7]=c=>m.value.B1=c),type:"checkbox",class:"cursor-pointer"},null,512),[[O,m.value.B1]]),i(" 1B ")]),e("label",$e,[N(e("input",{"onUpdate:modelValue":h[8]||(h[8]=c=>m.value.C1=c),type:"checkbox",class:"cursor-pointer"},null,512),[[O,m.value.C1]]),i(" 1C ")]),e("label",Ae,[N(e("input",{"onUpdate:modelValue":h[9]||(h[9]=c=>m.value.D1=c),type:"checkbox",class:"cursor-pointer"},null,512),[[O,m.value.D1]]),i(" 1D ")])])]),g(y,{onClick:h[10]||(h[10]=c=>S()),disabled:D.value,class:"w-[81px] justify-center"},{default:L(()=>[D.value?(t(),U(V,{key:0,size:"16px",thickness:"2px"})):(t(),l("span",Te,"Update"))]),_:1},8,["disabled"])]),Ve,g(y,{onClick:h[11]||(h[11]=c=>G()),disabled:k.value,color:"warning",class:"justify-center"},{default:L(()=>[k.value?(t(),U(V,{key:0,size:"16px",thickness:"2px"})):(t(),l("span",Se,"Logout"))]),_:1},8,["disabled"])])]),_:1},8,["go-open"])],2)}}},De=W(je,[["__scopeId","data-v-9d379220"]]);function ee(B,T=500){let d;return function(...C){clearTimeout(d),d=setTimeout(()=>{B(...C)},T)}}const Le={class:"w-full"},Be={class:"sticky top-[68.5px] flex w-full flex-row items-center gap-6 bg-blue-50 px-4 py-2"},Ie=e("h3",null,"Test History",-1),Ge={class:"flex flex-row items-center gap-2"},Me=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Section",-1),ze={class:"flex flex-row items-center gap-2"},Re=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Type",-1),Ee={class:"w-full table-fixed"},Pe=e("tr",{class:"sticky top-[138px] bg-blue-200"},[e("th",{class:"w-16"},"#"),e("th",{class:"px-6 py-4 text-start"},"Name"),e("th",{class:"px-6 py-4 text-start"},"Section"),e("th",{class:"px-6 py-4 text-start"},"Type"),e("th",{class:"px-6 py-4 text-start"},"Score"),e("th",{class:"px-6 py-4 text-start"},"Date Taken"),e("th",{class:"px-6 py-4"},"Answers")],-1),Ue={key:0},Ne={colspan:"7"},He={class:"flex w-full items-center justify-center py-6"},Oe={class:"w-16 text-center"},Fe={class:"max-w-[200px] truncate px-6 py-1 text-start"},qe={class:"px-6 py-1 text-start"},Ye={class:"px-6 py-1 text-start"},Ke={class:"px-6 py-1 text-start"},We={class:"px-6 py-1 text-start"},Je={class:"px-6 py-1"},Qe={class:"flex h-full w-full flex-row items-center justify-center"},Xe={key:2},Ze=e("td",{colspan:"7"},[e("div",{class:"flex w-full items-center justify-center py-6"},"No entries found")],-1),es=[Ze],ss={colspan:"7"},ts={class:"flex w-full items-center justify-center py-6"},ls={class:"flex max-h-[calc(100svh-32px)] flex-col overflow-y-auto overflow-x-hidden px-4 pb-4"},os={class:"sticky top-0 flex flex-row items-center justify-between bg-blue-50 py-4"},ns=e("h2",{class:"leading-none"},"Answers",-1),as={class:"max-w-[560px]"},rs={clas:"flex flex-col gap-1"},is={key:0},cs={key:1},ds=e("hr",{class:"mx-2 my-4 border-neutral-300"},null,-1),us={__name:"TestHistoryTab",setup(B){const T=q(),d=w([]),C=w([]),k=w(!0),G=w(!0),D=w(null),m=w(null),S=w({text:"",section:"All",type:"All"}),v=ee(async(V,y,p)=>{(C.value.length===50||C.value.length===0)&&await P({method:"get",url:"https://ncp-api-uzr5.onrender.com/api/v2/history/test/search",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},params:{search:V,section:y,testType:p==="Pre test"?"PRETEST":p==="Post test"?"POSTTEST":"All",cursor:m.value}}).then(c=>{C.value=c.data,d.value.push(...C.value),k.value=!1,c.data.length>0&&(m.value=c.data[c.data.length-1].id),c.data.length<50&&(G.value=!1)}).catch(c=>{c.response.status==401?T.push({name:"admin login"}):z.add({msg:c.response.data,duration:4e3})}).finally(()=>k.value=!1)});Y(()=>{J(()=>{C.value=[],d.value=[],k.value=!0,m.value=null,v(S.value.text,S.value.section,S.value.type)});let V=!1;K.value.addEventListener("scroll",()=>{let y=window.innerHeight;D.value.getBoundingClientRect().top+D.value.offsetHeight/2<y&&!V&&(window.requestAnimationFrame(async()=>{v(),V=!1}),V=!0)})});const h=w({answers:null,name:"",testType:""}),u=w({showAnswersModal:!1,showAnswersOpen(V,y,p){h.value={answers:V,name:y,testType:p},this.showAnswersModal=!0},showAnswersClose(){this.showAnswersModal=!1}});return(V,y)=>{const p=A("VFormTextbox"),c=A("VSelect"),j=A("VLoader"),b=A("VButton"),_=A("VIconButton"),I=A("VModal");return t(),l("div",Le,[e("div",Be,[Ie,g(p,{modelValue:S.value.text,"onUpdate:modelValue":y[0]||(y[0]=o=>S.value.text=o),placeholder:"Search for Name",class:"w-72"},null,8,["modelValue"]),e("div",Ge,[Me,g(c,{modelValue:S.value.section,"onUpdate:modelValue":y[1]||(y[1]=o=>S.value.section=o),options:["All","1A","1B","1C","1D"],class:"w-20"},null,8,["modelValue"])]),e("div",ze,[Re,g(c,{modelValue:S.value.type,"onUpdate:modelValue":y[2]||(y[2]=o=>S.value.type=o),options:["All","Pre test","Post test"],class:"w-32"},null,8,["modelValue"])])]),e("table",Ee,[Pe,k.value?(t(),l("tr",Ue,[e("td",Ne,[e("div",He,[g(j,{size:"40px",thickness:"2px"})])])])):d.value.length>0?(t(!0),l(r,{key:1},f(d.value,(o,x)=>(t(),l("tr",{key:x,class:"text-center odd:bg-blue-100"},[e("td",Oe,n(x+1),1),e("td",Fe,n(o.name),1),e("td",qe,n(o.section),1),e("td",Ye,n(o.testType),1),e("td",Ke,n(o.score),1),e("td",We,n(new Date(o.dateTaken).toLocaleString().replace(","," -")),1),e("td",Je,[e("div",Qe,[g(b,{onClick:s=>u.value.showAnswersOpen(o.answers,o.name,o.testType),variant:"filled","start-icon":"visibility",color:"success"},{default:L(()=>[i(" Show ")]),_:2},1032,["onClick"])])])]))),128)):(t(),l("tr",Xe,es)),N(e("tr",{ref_key:"moreLoadingRef",ref:D},[e("td",ss,[e("div",ts,[g(j,{size:"40px",thickness:"2px"})])])],512),[[Q,G.value&&!k.value]])]),g(I,{"go-open":u.value.showAnswersModal,"onUpdate:goOpen":y[4]||(y[4]=o=>u.value.showAnswersModal=o),"click-outside":!1},{default:L(()=>[e("div",ls,[e("div",os,[e("div",null,[ns,e("span",null,n(h.value.testType+" - "+h.value.name),1)]),g(_,{onClick:y[3]||(y[3]=o=>u.value.showAnswersClose()),variant:"ghost",size:"lg",icon:"close"})]),(t(!0),l(r,null,f(h.value.answers,(o,x)=>(t(),l("div",{key:x,class:"flex flex-col"},[e("span",as,n(`${x+1}. ${o.question}`),1),e("div",rs,[Array.isArray(o.answer)?(t(),l("b",is,[i(" Answer/s: "),(t(!0),l(r,null,f(o.answer,(s,a)=>(t(),l("span",{key:a},n(s+`${a+1!==o.answer.length?", ":"."}`),1))),128))])):(t(),l("b",cs,[i(" Answer: "),e("span",null,n(o.answer)+".",1)]))]),ds]))),128))])]),_:1},8,["go-open"])])}}},_s={class:"w-full"},ps={class:"sticky top-[68.5px] flex w-full flex-row items-center gap-6 bg-blue-50 px-4 py-2"},hs=e("h3",null,"Case Scenario History",-1),bs={class:"flex flex-row items-center gap-2"},vs=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Section",-1),xs={class:"flex flex-row items-center gap-2"},fs=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Category",-1),gs={class:"w-full table-fixed"},ms=e("tr",{class:"sticky top-[138px] bg-blue-200"},[e("th",{class:"w-16"},"#"),e("th",{class:"px-6 py-4 text-start"},"Name"),e("th",{class:"px-6 py-4 text-start"},"Section"),e("th",{class:"px-6 py-4 text-start"},"Category"),e("th",{class:"px-6 py-4 text-start"},"Case ID"),e("th",{class:"px-6 py-4 text-start"},"Times Taken"),e("th",{class:"px-6 py-4 text-start"},"Date Taken"),e("th",{class:"px-6 py-4"},"Answers"),e("th",{class:"px-6 py-4"},"Nursing Care Plan")],-1),ws={key:0},ys={colspan:"9"},ks={class:"flex w-full items-center justify-center py-6"},Cs={class:"w-16 text-center"},$s={class:"max-w-[200px] truncate px-6 py-1 text-start"},As={class:"px-6 py-1 text-start"},Ts={class:"px-6 py-1 text-start"},Vs={class:"px-6 py-1 text-start"},Ss={class:"px-6 py-1 text-start"},js={class:"px-6 py-1 text-start"},Ds={class:"px-6 py-1 text-start"},Ls={class:"flex h-full w-full flex-row items-center justify-center"},Bs={class:"px-6 py-1"},Is={class:"flex h-full w-full flex-row items-center justify-center"},Gs={key:2},Ms=e("td",{colspan:"9"},[e("div",{class:"flex w-full items-center justify-center py-6"},"No entries found")],-1),zs=[Ms],Rs={colspan:"9"},Es={class:"flex w-full items-center justify-center py-6"},Ps={class:"flex max-h-[calc(100svh-32px)] flex-col overflow-y-auto overflow-x-hidden px-4 pb-4"},Us={class:"sticky top-0 z-10 flex flex-row items-center justify-between bg-blue-50 py-4"},Ns=e("div",null,[e("h2",{class:"leading-none"},"Answers")],-1),Hs={key:0,class:"relative flex flex-col"},Os=e("h2",null,"Assessment",-1),Fs={class:"flex flex-col gap-2 px-2"},qs=e("h3",null,"Subjective",-1),Ys=e("h3",null,"Objectives",-1),Ks={class:"list-disc pl-4"},Ws=e("hr",{class:"my-4"},null,-1),Js=e("h2",null,"Nursing Diagnosis",-1),Qs={class:"px-2"},Xs=e("hr",{class:"my-4"},null,-1),Zs=e("h2",null,"Planning",-1),et={class:"flex flex-col gap-2 px-2"},st=e("h3",null,"Short Term Goals",-1),tt={class:"list-disc pl-4"},lt=e("h3",null,"Long Term Goals",-1),ot={class:"list-disc pl-4"},nt=e("hr",{class:"my-4"},null,-1),at=e("h2",null,"Interventions and Rationale",-1),rt={class:"flex flex-col gap-4 px-2 pt-2"},it={class:"w-full table-fixed"},ct=e("tr",null,[e("th",{class:"border border-black"},"Independents"),e("th",{class:"border border-black"},"Rationale")],-1),dt={class:"border border-black p-2"},ut={class:"border border-black p-2"},_t={class:"w-full table-fixed"},pt=e("tr",null,[e("th",{class:"border border-black"},"Dependents"),e("th",{class:"border border-black"},"Rationale")],-1),ht={class:"border border-black p-2"},bt={class:"border border-black p-2"},vt={class:"w-full table-fixed"},xt=e("tr",null,[e("th",{class:"border border-black"},"Collaborative"),e("th",{class:"border border-black"},"Rationale")],-1),ft={class:"border border-black p-2"},gt={class:"border border-black p-2"},mt={key:1,class:"flex flex-col"},wt=e("h2",null,"Assessment",-1),yt={class:"flex flex-col gap-2 px-2"},kt=e("h3",null,"Subjective",-1),Ct=e("h3",null,"Objectives",-1),$t={class:"list-disc pl-4"},At=e("hr",{class:"my-4"},null,-1),Tt=e("h2",null,"Nursing Diagnosis",-1),Vt={class:"px-2"},St=e("hr",{class:"my-4"},null,-1),jt=e("h2",null,"Planning",-1),Dt={class:"flex flex-col gap-2 px-2"},Lt=e("h3",null,"Short Term Goals",-1),Bt={class:"list-disc pl-4"},It=e("h3",null,"Long Term Goals",-1),Gt={class:"list-disc pl-4"},Mt=e("hr",{class:"my-4"},null,-1),zt=e("h2",null,"Interventions and Rationale",-1),Rt={class:"flex flex-col gap-4 px-2 pt-2"},Et={class:"w-full table-fixed"},Pt=e("tr",null,[e("th",{class:"border border-black"},"Independents"),e("th",{class:"border border-black"},"Rationale")],-1),Ut={class:"w-full table-fixed"},Nt=e("tr",null,[e("th",{class:"border border-black"},"Dependents"),e("th",{class:"border border-black"},"Rationale")],-1),Ht={class:"w-full table-fixed"},Ot=e("tr",null,[e("th",{class:"border border-black"},"Collaborative"),e("th",{class:"border border-black"},"Rationale")],-1),Ft={key:0,class:"hidden w-full table-fixed border-collapse border border-black bg-white font-['Times'] text-[15px] text-black",id:"table"},qt=e("tr",null,[e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Assessment"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Nursing Diagnosis"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Planning"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Intervention"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Rationale"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Evaluation")],-1),Yt={class:"border border-black px-4 py-2 text-start align-top"},Kt=e("br",null,null,-1),Wt=e("br",null,null,-1),Jt=e("br",null,null,-1),Qt=e("br",null,null,-1),Xt=e("br",null,null,-1),Zt=e("br",null,null,-1),el=e("br",null,null,-1),sl={class:"border border-black px-4 py-2 text-start align-top"},tl={class:"border border-black px-4 py-2 text-start align-top"},ll=e("br",null,null,-1),ol=e("br",null,null,-1),nl=e("br",null,null,-1),al=e("br",null,null,-1),rl=e("br",null,null,-1),il=e("br",null,null,-1),cl=e("br",null,null,-1),dl=e("br",null,null,-1),ul=e("br",null,null,-1),_l=e("br",null,null,-1),pl=e("br",null,null,-1),hl=e("br",null,null,-1),bl=e("br",null,null,-1),vl={class:"border border-black px-4 py-2 text-start align-top"},xl=e("br",null,null,-1),fl=e("br",null,null,-1),gl=e("br",null,null,-1),ml=e("br",null,null,-1),wl=e("br",null,null,-1),yl=e("br",null,null,-1),kl=e("br",null,null,-1),Cl=e("br",null,null,-1),$l=e("br",null,null,-1),Al=e("br",null,null,-1),Tl=e("br",null,null,-1),Vl=e("br",null,null,-1),Sl=e("br",null,null,-1),jl=e("br",null,null,-1),Dl={class:"border border-black px-4 py-2 text-start align-top"},Ll=e("br",null,null,-1),Bl=e("br",null,null,-1),Il=e("br",null,null,-1),Gl=e("br",null,null,-1),Ml=e("br",null,null,-1),zl=e("br",null,null,-1),Rl=e("br",null,null,-1),El=e("br",null,null,-1),Pl=e("br",null,null,-1),Ul=e("br",null,null,-1),Nl=e("br",null,null,-1),Hl=e("br",null,null,-1),Ol=e("br",null,null,-1),Fl=e("br",null,null,-1),ql={class:"border border-black px-4 py-2 text-start align-top"},Yl=e("br",null,null,-1),Kl=e("br",null,null,-1),Wl=e("br",null,null,-1),Jl=e("br",null,null,-1),Ql=e("br",null,null,-1),Xl=e("br",null,null,-1),Zl=e("br",null,null,-1),eo=e("br",null,null,-1),so=e("br",null,null,-1),to=e("br",null,null,-1),lo=e("br",null,null,-1),oo=e("br",null,null,-1),no=e("br",null,null,-1),ao=e("br",null,null,-1),ro=e("br",null,null,-1),io=e("br",null,null,-1),co=e("br",null,null,-1),uo=e("br",null,null,-1),_o=e("br",null,null,-1),po=e("br",null,null,-1),ho=e("br",null,null,-1),bo=e("br",null,null,-1),vo=e("br",null,null,-1),xo={__name:"CaseScenarioHistoryTab",setup(B){const T=q(),d=w(null),C=w([]),k=w([]),G=w(!0),D=w(!0),m=w(null),S=w(null),v=w({text:"",section:"All",category:"All"}),h=ee(async(p,c,j)=>{(k.value.length===50||k.value.length===0)&&await P({method:"get",url:"https://ncp-api-uzr5.onrender.com/api/v2/history/case-scenario/search",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},params:{search:p,section:c,category:j,cursor:S.value}}).then(b=>{k.value=b.data,C.value.push(...k.value),b.data.length>0&&(S.value=b.data[b.data.length-1].id),b.data.length<50&&(D.value=!1)}).catch(b=>{b.response.status==401?T.push({name:"admin login"}):z.add({msg:b.response.data,duration:4e3}),D.value=!1}).finally(()=>G.value=!1)});Y(()=>{J(()=>{k.value=[],C.value=[],G.value=!0,S.value=null,h(v.value.text,v.value.section,v.value.category)});let p=!1;K.value.addEventListener("scroll",()=>{let c=window.innerHeight;m.value.getBoundingClientRect().top+m.value.offsetHeight/2<c&&!p&&(window.requestAnimationFrame(async()=>{h(),p=!1}),p=!0)})});const u=oe({answers:null,parsedAnswers:null,isLoading:!1,async goParse(p,c,j){this.isLoading=!0,await P({method:"get",url:`https://ncp-api-uzr5.onrender.com/api/v2/case-scenarios/${c}/${j}`,headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(b=>{let _={},I=b.data.nursing_diagnosis.diagnosis.texts.map(o=>o.text).indexOf(p.diagnosis);_.subjective={answer:p.subjective,isCorrect:p.subjective===b.data.assessment.subjectives.correctValue},_.objectives=[],p.objective.forEach(o=>{b.data.assessment.objectives.forEach(x=>{o===x.text&&_.objectives.push({answer:o,isCorrect:x.isCorrect})})}),_.diagnosis={answer:p.diagnosis,isCorrect:p.diagnosis===b.data.nursing_diagnosis.diagnosis.correctValue},_.relatedTo={answer:p.relatedTo,isCorrect:p.relatedTo===b.data.nursing_diagnosis.relatedTo.correctValue},_.signsAndSymptoms=[],p.signsAndSymptoms.forEach(o=>{b.data.nursing_diagnosis.signsAndSymptoms.forEach(x=>{o===x.text&&_.signsAndSymptoms.push({answer:o,isCorrect:x.isCorrect})})}),_.shortTermGoals=[],p.shortTermGoal.forEach(o=>{b.data.planning.shortTermGoals.forEach(x=>{o===x.text&&_.shortTermGoals.push({answer:o,isCorrect:x.isCorrect})})}),_.longTermGoals=[],p.longTermGoal.forEach(o=>{b.data.planning.longTermGoals.forEach(x=>{o===x.text&&_.longTermGoals.push({answer:o,isCorrect:x.isCorrect})})}),_.independents=[],p.independent.forEach((o,x)=>{let s=_.independents.length;b.data.nursing_diagnosis.diagnosis.texts[I].intervention.independents.forEach((a,R)=>{o.split("::")[0]===a.text&&(x===R?_.independents.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!0}):_.independents.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!1}))}),s===_.independents.length&&_.independents.push({answer:o,isCorrect:!1,rationaleCorrect:!1,orderCorrect:!1})}),_.dependents=[],p.dependent.forEach((o,x)=>{let s=_.dependents.length;b.data.nursing_diagnosis.diagnosis.texts[I].intervention.dependents.forEach((a,R)=>{o.split("::")[0]===a.text&&(x===R?_.dependents.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!0}):_.dependents.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!1}))}),s===_.dependents.length&&_.dependents.push({answer:o,isCorrect:!1,rationaleCorrect:!1,orderCorrect:!1})}),_.collaboratives=[],p.collaborative.forEach((o,x)=>{let s=_.collaboratives.length;b.data.nursing_diagnosis.diagnosis.texts[I].intervention.collaboratives.forEach((a,R)=>{o.split("::")[0]===a.text&&(x===R?_.collaboratives.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!0}):_.collaboratives.push({answer:o,isCorrect:a.isCorrect,rationaleCorrect:o.split("::")[1]===a.rationale&&a.isCorrect,orderCorrect:!1}))}),s===_.collaboratives.length&&_.collaboratives.push({answer:o,isCorrect:!1,rationaleCorrect:!1,orderCorrect:!1})}),this.parsedAnswers=_}).catch(b=>{console.log(b),b.response.status==401?T.push({name:"admin login"}):z.add({msg:b.response.data,duration:4e3})}).finally(()=>this.isLoading=!1)},name:""}),V=w({showAnswersModal:!1,showAnswersOpen(p,c,j,b){u.answers=p,u.name=c,u.goParse(p,j,b),this.showAnswersModal=!0},showAnswersClose(){setTimeout(()=>{u.answers=null,u.parsedAnswers=null,u.name=null},150),this.showAnswersModal=!1}});async function y(p,c,j,b,_,I){await P({method:"get",url:`https://ncp-api-uzr5.onrender.com/api/v2/history/case-scenario/${p}`,headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(o=>(d.value=o.data,d.value)).then(o=>{let x=[];x.push(o.score.assessment),x.push(o.score.nursingDiagnosis),x.push(o.score.planning),x.push(o.score.intervention),x.push(o.score.evaluation),x.push(o.score.overall),ne(c,j,b,_,new Date(I).toLocaleString().replace(","," -"),x)}).catch(o=>{o.response.status==401?T.push({name:"admin login"}):z.add({msg:o.response.data,duration:4e3})})}return(p,c)=>{const j=A("VFormTextbox"),b=A("VSelect"),_=A("VLoader"),I=A("VButton"),o=A("VIconButton"),x=A("VModal");return t(),l("div",_s,[e("div",ps,[hs,g(j,{modelValue:v.value.text,"onUpdate:modelValue":c[0]||(c[0]=s=>v.value.text=s),placeholder:"Search for Name or Case ID",class:"w-72"},null,8,["modelValue"]),e("div",bs,[vs,g(b,{modelValue:v.value.section,"onUpdate:modelValue":c[1]||(c[1]=s=>v.value.section=s),options:["All","1A","1B","1C","1D"],class:"w-20"},null,8,["modelValue"])]),e("div",xs,[fs,g(b,{modelValue:v.value.category,"onUpdate:modelValue":c[2]||(c[2]=s=>v.value.category=s),options:["All","Neuro","Etc."],class:"w-40"},null,8,["modelValue","options"])])]),e("table",gs,[ms,G.value?(t(),l("tr",ws,[e("td",ys,[e("div",ks,[g(_,{size:"40px",thickness:"2px"})])])])):C.value.length>0?(t(!0),l(r,{key:1},f(C.value,(s,a)=>(t(),l("tr",{key:a,class:"text-center odd:bg-blue-100"},[e("td",Cs,n(a+1),1),e("td",$s,n(s.name),1),e("td",As,n(s.section),1),e("td",Ts,n(s.category),1),e("td",Vs,n(s.caseId),1),e("td",Ss,n(s.timesTaken),1),e("td",js,n(new Date(s.dateTaken).toLocaleString().replace(","," -")),1),e("td",Ds,[e("div",Ls,[g(I,{onClick:R=>V.value.showAnswersOpen(s.answers,s.name,s.category,s.caseId),variant:"filled","start-icon":"visibility",color:"success"},{default:L(()=>[i(" Show ")]),_:2},1032,["onClick"])])]),e("td",Bs,[e("div",Is,[g(I,{onClick:R=>y(s.id,s.name,s.category,s.caseId,s.timesTaken,s.dateTaken),variant:"filled","start-icon":"print",color:"success"},{default:L(()=>[i(" Print ")]),_:2},1032,["onClick"])])])]))),128)):(t(),l("tr",Gs,zs)),N(e("tr",{ref_key:"moreLoadingRef",ref:m},[e("td",Rs,[e("div",Es,[g(_,{size:"40px",thickness:"2px"})])])],512),[[Q,D.value&&!G.value]])]),g(x,{"go-open":V.value.showAnswersModal,"onUpdate:goOpen":c[4]||(c[4]=s=>V.value.showAnswersModal=s),"click-outside":!1},{default:L(()=>[e("div",Ps,[e("div",Us,[Ns,g(o,{onClick:c[3]||(c[3]=s=>V.value.showAnswersClose()),variant:"ghost",size:"lg",icon:"close"})]),u.answers&&!u.parsedAnswers?(t(),l("div",Hs,[e("div",null,[Os,e("div",Fs,[e("div",null,[qs,e("p",null,n(u.answers.subjective),1)]),e("div",null,[Ys,e("ul",Ks,[(t(!0),l(r,null,f(u.answers.objective,s=>(t(),l("li",{key:s},n(s),1))),128))])])])]),Ws,e("div",null,[Js,e("div",Qs,[e("p",null,[e("span",null,n(u.answers.diagnosis),1),i(" related to "),e("span",null,n(u.answers.relatedTo),1),i(" as evidenced by "),(t(!0),l(r,null,f(u.answers.signsAndSymptoms,(s,a)=>(t(),l("span",{key:s},n(`${s}${a+1<u.answers.signsAndSymptoms.length?", ":"."}`),1))),128))])])]),Xs,e("div",null,[Zs,e("div",et,[e("div",null,[st,e("ul",tt,[(t(!0),l(r,null,f(u.answers.shortTermGoal,s=>(t(),l("li",{key:s},n(s),1))),128))])]),e("div",null,[lt,e("ul",ot,[(t(!0),l(r,null,f(u.answers.longTermGoal,s=>(t(),l("li",{key:s},n(s),1))),128))])])])]),nt,e("div",null,[at,e("div",rt,[e("table",it,[ct,(t(!0),l(r,null,f(u.answers.independent,s=>(t(),l("tr",{key:s},[e("td",dt,n(s.split("::")[0]),1),e("td",ut,n(s.split("::")[0]),1)]))),128))]),e("table",_t,[pt,(t(!0),l(r,null,f(u.answers.dependent,s=>(t(),l("tr",{key:s},[e("td",ht,n(s.split("::")[0]),1),e("td",bt,n(s.split("::")[0]),1)]))),128))]),e("table",vt,[xt,(t(!0),l(r,null,f(u.answers.collaborative,s=>(t(),l("tr",{key:s},[e("td",ft,n(s.split("::")[0]),1),e("td",gt,n(s.split("::")[0]),1)]))),128))])])]),g(_,{size:"40px",thickness:"2px",class:"fixed right-4 top-[68px]"})])):u.parsedAnswers?(t(),l("div",mt,[e("div",null,[wt,e("div",yt,[e("div",null,[kt,e("p",{class:$(u.parsedAnswers.subjective.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.subjective.answer),3)]),e("div",null,[Ct,e("ul",$t,[(t(!0),l(r,null,f(u.parsedAnswers.objectives,s=>(t(),l("li",{class:$(s.isCorrect?"text-emerald-500":"text-red-400"),key:s},n(s.answer),3))),128))])])])]),At,e("div",null,[Tt,e("div",Vt,[e("p",null,[e("span",{class:$(u.parsedAnswers.diagnosis.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.diagnosis.answer),3),i(" related to "),e("span",{class:$(u.parsedAnswers.relatedTo.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.relatedTo.answer),3),i(" as evidenced by "),(t(!0),l(r,null,f(u.parsedAnswers.signsAndSymptoms,(s,a)=>(t(),l("span",{key:s,class:$(s.isCorrect?"text-emerald-500":"text-red-400")},n(`${s.answer}${a+1<u.parsedAnswers.signsAndSymptoms.length?", ":"."}`),3))),128))])])]),St,e("div",null,[jt,e("div",Dt,[e("div",null,[Lt,e("ul",Bt,[(t(!0),l(r,null,f(u.parsedAnswers.shortTermGoals,s=>(t(),l("li",{key:s,class:$(s.isCorrect?"text-emerald-500":"text-red-400")},n(s.answer),3))),128))])]),e("div",null,[It,e("ul",Gt,[(t(!0),l(r,null,f(u.parsedAnswers.longTermGoals,s=>(t(),l("li",{key:s,class:$(s.isCorrect?"text-emerald-500":"text-red-400")},n(s.answer),3))),128))])])])]),Mt,e("div",null,[zt,e("div",Rt,[e("table",Et,[Pt,(t(!0),l(r,null,f(u.parsedAnswers.independents,s=>(t(),l("tr",{key:s},[e("td",{class:$(["border border-black p-2",s.isCorrect?"text-emerald-500":"text-red-400"])},n(s.orderCorrect?"":"*")+" "+n(s.answer.split("::")[0]),3),e("td",{class:$(["border border-black p-2",s.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(s.answer.split("::")[1]),3)]))),128))]),e("table",Ut,[Nt,(t(!0),l(r,null,f(u.parsedAnswers.dependents,s=>(t(),l("tr",{key:s},[e("td",{class:$(["border border-black p-2",s.isCorrect?"text-emerald-500":"text-red-400"])},n(s.orderCorrect?"":"*")+" "+n(s.answer.split("::")[0]),3),e("td",{class:$(["border border-black p-2",s.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(s.answer.split("::")[1]),3)]))),128))]),e("table",Ht,[Ot,(t(!0),l(r,null,f(u.parsedAnswers.collaboratives,s=>(t(),l("tr",{key:s},[e("td",{class:$(["border border-black p-2",s.isCorrect?"text-emerald-500":"text-red-400"])},n(s.answer.split("::")[0]),3),e("td",{class:$(["border border-black p-2",s.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(s.answer.split("::")[1]),3)]))),128))])])])])):F("",!0)])]),_:1},8,["go-open"]),d.value?(t(),l("table",Ft,[qt,e("tr",null,[e("td",Yt,[i(" Subjective:"),Kt,i(" - "+n(d.value.answers.subjective)+" ",1),Wt,Jt,i(" Objective:"),Qt,(t(!0),l(r,null,f(d.value.answers.objective,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.objective.length?(t(),l(r,{key:0},[i(" • "+n(s)+" ",1),Xt,Zt],64)):(t(),l(r,{key:1},[i(" • "+n(s)+" ",1),el],64))],64))),128))]),e("td",sl,[i(n(`${d.value.answers.diagnosis} related to ${d.value.answers.relatedTo} as evidenced by`)+" ",1),(t(!0),l(r,null,f(d.value.answers.signsAndSymptoms,(s,a)=>(t(),l("span",{key:a},n(`${s}${a+1<d.value.answers.signsAndSymptoms.length?", ":"."}`),1))),128))]),e("td",tl,[i(" Short Term Goal:"),ll,i(" - "+n(d.value.answers.shortTermGoalsDesc),1),ol,nl,(t(!0),l(r,null,f(d.value.answers.shortTermGoal,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.shortTermGoal.length?(t(),l(r,{key:0},[i(" • "+n(s)+" ",1),al,rl],64)):(t(),l(r,{key:1},[i(" • "+n(s)+" ",1),il],64))],64))),128)),cl,i("Long Term Goal:"),dl,i(" - "+n(d.value.answers.longTermGoalsDesc),1),ul,_l,(t(!0),l(r,null,f(d.value.answers.longTermGoal,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.longTermGoal.length?(t(),l(r,{key:0},[i(" • "+n(s)+" ",1),pl,hl],64)):(t(),l(r,{key:1},[i(" • "+n(s)+" ",1),bl],64))],64))),128))]),e("td",vl,[i(" Independent:"),xl,(t(!0),l(r,null,f(d.value.answers.independent,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.independent.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[0])+" ",1),fl,gl],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[0])+" ",1),ml],64))],64))),128)),wl,i("Dependent:"),yl,(t(!0),l(r,null,f(d.value.answers.dependent,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.dependent.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[0])+" ",1),kl,Cl],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[0])+" ",1),$l],64))],64))),128)),Al,i("Collaborative:"),Tl,(t(!0),l(r,null,f(d.value.answers.collaborative,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.collaborative.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[0])+" ",1),Vl,Sl],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[0])+" ",1),jl],64))],64))),128))]),e("td",Dl,[i(" Independent:"),Ll,(t(!0),l(r,null,f(d.value.answers.independent,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.independent.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[1])+" ",1),Bl,Il],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[1])+" ",1),Gl],64))],64))),128)),Ml,i("Dependent:"),zl,(t(!0),l(r,null,f(d.value.answers.dependent,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.dependent.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[1])+" ",1),Rl,El],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[1])+" ",1),Pl],64))],64))),128)),Ul,i("Collaborative:"),Nl,(t(!0),l(r,null,f(d.value.answers.collaborative,(s,a)=>(t(),l(r,{key:a},[a+1!==d.value.answers.collaborative.length?(t(),l(r,{key:0},[i(" • "+n(s.split("::")[1])+" ",1),Hl,Ol],64)):(t(),l(r,{key:1},[i(" • "+n(s.split("::")[1])+" ",1),Fl],64))],64))),128))]),e("td",ql,[i(" Short Term Goal:"),Yl,i(" - "+n(d.value.answers.shortTermGoalsDesc),1),Kl,Wl,(t(!0),l(r,null,f(d.value.answers.shortTermGoal,(s,a)=>(t(),l(r,{key:a},[i(" • "+n(s)+" ",1),Jl,a+1!==d.value.answers.shortTermGoal.length?(t(),l(r,{key:0},[i(" ___Met "),Ql,i(" ___Partially Met "),Xl,i(" ___Unmet "),Zl,eo],64)):(t(),l(r,{key:1},[i(" ___Met "),so,i(" ___Partially Met "),to,i(" ___Unmet "),lo],64))],64))),128)),oo,i("Long Term Goal:"),no,i(" - "+n(d.value.answers.longTermGoalsDesc),1),ao,ro,(t(!0),l(r,null,f(d.value.answers.longTermGoal,(s,a)=>(t(),l(r,{key:a},[i(" • "+n(s)+" ",1),io,a+1!==d.value.answers.longTermGoal.length?(t(),l(r,{key:0},[i(" ___Met "),co,i(" ___Partially Met "),uo,i(" ___Unmet "),_o,po],64)):(t(),l(r,{key:1},[i(" ___Met "),ho,i(" ___Partially Met "),bo,i(" ___Unmet "),vo],64))],64))),128))])])])):F("",!0)])}}},fo={};function go(B,T){const d=A("router-view");return t(),U(d,null,{default:L(({Component:C,route:k})=>[g(X,{name:"fade-up",mode:"out-in"},{default:L(()=>[(t(),l("div",{class:"relative flex w-full flex-col",key:k.name},[(t(),U(Z(C)))]))]),_:2},1024)]),_:1})}const mo=W(fo,[["render",go]]),yo={__name:"HomePage",setup(B){const T=[mo,xo,us];return(d,C)=>(t(),U(De,null,{default:L(()=>[g(X,{name:"fade-up",mode:"out-in"},{default:L(()=>[(t(),U(ae,null,[(t(),U(Z(T[E(M).index])))],1024))]),_:1})]),_:1}))}};export{yo as default};
